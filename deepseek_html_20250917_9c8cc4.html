<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UltraMini Games Hub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables */
        :root {
            --primary-bg: #f0f0f3;
            --card-bg: rgba(255, 255, 255, 0.8);
            --text-dark: #2d2d2d;
            --text-light: #f8f8f8;
            --accent-purple: #8a2be2;
            --accent-purple-light: #9b45f0;
            --accent-gold: #ffd700;
            --accent-gold-dark: #e6c300;
            --shadow-light: 5px 5px 10px #d1d1d4, -5px -5px 10px #ffffff;
            --shadow-dark: 5px 5px 10px #1a1a1a, -5px -5px 10px #2c2c2c;
            --transition: all 0.3s ease;
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--primary-bg);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            padding: 20px;
        }

        /* Hub Styles */
        .hub-container {
            width: 100%;
            max-width: 1200px;
            text-align: center;
        }

        .hub-title {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--accent-purple);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            display: inline-block;
        }

        .hub-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--accent-gold);
            border-radius: 2px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 300px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-gold));
            transform: scaleX(0);
            transform-origin: left;
            transition: var(--transition);
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .game-card:hover::before {
            transform: scaleX(1);
        }

        .game-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--accent-purple);
        }

        .game-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-dark);
        }

        .game-description {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .play-btn {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-light));
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(138, 43, 226, 0.3);
        }

        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(138, 43, 226, 0.4);
        }

        /* Game Screens */
        .game-screen {
            display: none;
            width: 100%;
            max-width: 800px;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow-light);
            margin: 0 auto;
            position: relative;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent-gold);
        }

        .game-title-screen {
            font-size: 2rem;
            color: var(--accent-purple);
        }

        .back-btn {
            background: var(--accent-gold);
            color: var(--text-dark);
            border: none;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .back-btn:hover {
            background: var(--accent-gold-dark);
            transform: scale(1.05);
        }

        /* Tic Tac Toe Styles */
        .ttt-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 0 auto;
        }

        .ttt-cell {
            width: 100px;
            height: 100px;
            background: var(--primary-bg);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
        }

        .ttt-cell:hover {
            background: #e6e6ea;
        }

        .ttt-cell.x {
            color: var(--accent-purple);
        }

        .ttt-cell.o {
            color: var(--accent-gold);
        }

        .ttt-status {
            margin: 20px 0;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Snake Styles */
        .snake-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #snake-canvas {
            background: var(--primary-bg);
            border-radius: 10px;
            box-shadow: var(--shadow-light);
        }

        .snake-score {
            margin: 15px 0;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Memory Match Styles */
        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .memory-card {
            width: 100px;
            height: 100px;
            background: var(--accent-purple);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
        }

        .memory-card .front,
        .memory-card .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
        }

        .memory-card .front {
            background: var(--primary-bg);
            transform: rotateY(180deg);
        }

        .memory-card .back {
            background: var(--accent-purple);
        }

        /* RPS Styles */
        .rps-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .rps-choices {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .rps-choice {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            background: var(--primary-bg);
            cursor: pointer;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
        }

        .rps-choice:hover {
            transform: scale(1.1);
        }

        .rps-result {
            margin: 20px 0;
            font-size: 1.5rem;
            font-weight: bold;
            min-height: 40px;
        }

        /* Score Display */
        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            padding: 15px;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            z-index: 100;
        }

        .score-title {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--accent-purple);
            text-align: center;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
            }
            
            .game-card {
                min-height: 250px;
                padding: 20px;
            }
            
            .game-icon {
                font-size: 2.5rem;
            }
            
            .ttt-cell {
                width: 80px;
                height: 80px;
            }
            
            .memory-card {
                width: 70px;
                height: 70px;
            }
            
            .rps-choice {
                width: 80px;
                height: 80px;
            }
            
            .score-display {
                position: static;
                margin-bottom: 20px;
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Score Display -->
    <div class="score-display">
        <h3 class="score-title">Best Scores</h3>
        <div class="score-item">
            <span>Tic-Tac-Toe Wins:</span>
            <span id="ttt-score">0</span>
        </div>
        <div class="score-item">
            <span>Snake Score:</span>
            <span id="snake-score">0</span>
        </div>
        <div class="score-item">
            <span>Memory Matches:</span>
            <span id="memory-score">0</span>
        </div>
        <div class="score-item">
            <span>RPS Wins:</span>
            <span id="rps-score">0</span>
        </div>
    </div>

    <!-- Games Hub -->
    <div class="hub-container" id="hub">
        <h1 class="hub-title">UltraMini Games Hub</h1>
        <div class="games-grid">
            <!-- Tic-Tac-Toe Card -->
            <div class="game-card" data-game="ttt">
                <i class="game-icon fas fa-times"></i>
                <h2 class="game-title">Tic-Tac-Toe</h2>
                <p class="game-description">Classic 3x3 grid game. Play against the computer and showcase your strategic skills.</p>
                <button class="play-btn">Play Now</button>
            </div>

            <!-- Snake Card -->
            <div class="game-card" data-game="snake">
                <i class="game-icon fas fa-sticky-note"></i>
                <h2 class="game-title">Snake</h2>
                <p class="game-description">Control the snake, eat food, and avoid collisions. How long can you survive?</p>
                <button class="play-btn">Play Now</button>
            </div>

            <!-- Memory Match Card -->
            <div class="game-card" data-game="memory">
                <i class="game-icon fas fa-brain"></i>
                <h2 class="game-title">Memory Match</h2>
                <p class="game-description">Test your memory by matching pairs of cards. Find all matches with the fewest flips.</p>
                <button class="play-btn">Play Now</button>
            </div>

            <!-- Rock-Paper-Scissors Card -->
            <div class="game-card" data-game="rps">
                <i class="game-icon fas fa-hand-rock"></i>
                <h2 class="game-title">Rock-Paper-Scissors</h2>
                <p class="game-description">The classic hand game. Outsmart the computer in this battle of wits and chance.</p>
                <button class="play-btn">Play Now</button>
            </div>
        </div>
    </div>

    <!-- Tic-Tac-Toe Game -->
    <div class="game-screen" id="ttt-screen">
        <div class="game-header">
            <h2 class="game-title-screen">Tic-Tac-Toe</h2>
            <button class="back-btn" onclick="backToHub()"><i class="fas fa-arrow-left"></i> Back to Hub</button>
        </div>
        <div class="ttt-status" id="ttt-status">Your turn (X)</div>
        <div class="ttt-board" id="ttt-board">
            <div class="ttt-cell" data-cell-index="0"></div>
            <div class="ttt-cell" data-cell-index="1"></div>
            <div class="ttt-cell" data-cell-index="2"></div>
            <div class="ttt-cell" data-cell-index="3"></div>
            <div class="ttt-cell" data-cell-index="4"></div>
            <div class="ttt-cell" data-cell-index="5"></div>
            <div class="ttt-cell" data-cell-index="6"></div>
            <div class="ttt-cell" data-cell-index="7"></div>
            <div class="ttt-cell" data-cell-index="8"></div>
        </div>
        <button class="play-btn" id="ttt-reset" style="margin-top: 20px;">Reset Game</button>
    </div>

    <!-- Snake Game -->
    <div class="game-screen" id="snake-screen">
        <div class="game-header">
            <h2 class="game-title-screen">Snake</h2>
            <button class="back-btn" onclick="backToHub()"><i class="fas fa-arrow-left"></i> Back to Hub</button>
        </div>
        <div class="snake-container">
            <div class="snake-score">Score: <span id="snake-score-value">0</span></div>
            <canvas id="snake-canvas" width="400" height="400"></canvas>
            <button class="play-btn" id="snake-start" style="margin-top: 20px;">Start Game</button>
        </div>
    </div>

    <!-- Memory Match Game -->
    <div class="game-screen" id="memory-screen">
        <div class="game-header">
            <h2 class="game-title-screen">Memory Match</h2>
            <button class="back-btn" onclick="backToHub()"><i class="fas fa-arrow-left"></i> Back to Hub</button>
        </div>
        <div class="snake-score">Matches Found: <span id="memory-matches">0</span>/8</div>
        <div class="memory-board" id="memory-board">
            <!-- Cards will be generated by JavaScript -->
        </div>
        <button class="play-btn" id="memory-reset" style="margin-top: 20px;">New Game</button>
    </div>

    <!-- Rock-Paper-Scissors Game -->
    <div class="game-screen" id="rps-screen">
        <div class="game-header">
            <h2 class="game-title-screen">Rock-Paper-Scissors</h2>
            <button class="back-btn" onclick="backToHub()"><i class="fas fa-arrow-left"></i> Back to Hub</button>
        </div>
        <div class="rps-container">
            <div class="rps-choices">
                <div class="rps-choice" data-choice="rock"><i class="fas fa-hand-rock"></i></div>
                <div class="rps-choice" data-choice="paper"><i class="fas fa-hand-paper"></i></div>
                <div class="rps-choice" data-choice="scissors"><i class="fas fa-hand-scissors"></i></div>
            </div>
            <div class="rps-result" id="rps-result">Make your choice!</div>
            <div class="snake-score">Wins: <span id="rps-wins">0</span> | Losses: <span id="rps-losses">0</span> | Ties: <span id="rps-ties">0</span></div>
        </div>
    </div>

    <script>
        // Navigation between hub and games
        const hubElement = document.getElementById('hub');
        const gameScreens = document.querySelectorAll('.game-screen');
        
        // Show the selected game screen
        function showGame(gameId) {
            hubElement.style.display = 'none';
            document.getElementById(`${gameId}-screen`).style.display = 'block';
        }
        
        // Return to the hub
        function backToHub() {
            gameScreens.forEach(screen => {
                screen.style.display = 'none';
            });
            hubElement.style.display = 'block';
        }
        
        // Add event listeners to game cards
        document.querySelectorAll('.game-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const gameId = card.getAttribute('data-game');
                showGame(gameId);
                
                // Initialize the game when it's shown
                if (gameId === 'ttt') initTicTacToe();
                if (gameId === 'snake') initSnake();
                if (gameId === 'memory') initMemory();
                if (gameId === 'rps') initRPS();
            });
        });
        
        // Load best scores from localStorage
        function loadBestScores() {
            document.getElementById('ttt-score').textContent = localStorage.getItem('tttWins') || '0';
            document.getElementById('snake-score').textContent = localStorage.getItem('snakeBestScore') || '0';
            document.getElementById('memory-score').textContent = localStorage.getItem('memoryBestScore') || '0';
            document.getElementById('rps-score').textContent = localStorage.getItem('rpsWins') || '0';
        }
        
        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadBestScores();
        });
    </script>

    <!-- Individual Game Scripts -->
    <script>
        // ========== TIC-TAC-TOE ==========
        function initTicTacToe() {
            const cells = document.querySelectorAll('.ttt-cell');
            const statusDisplay = document.getElementById('ttt-status');
            const resetButton = document.getElementById('ttt-reset');
            
            let gameActive = true;
            let currentPlayer = 'X';
            let gameState = ['', '', '', '', '', '', '', '', ''];
            
            const winningConditions = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
                [0, 4, 8], [2, 4, 6]             // diagonals
            ];
            
            function handleCellClick(clickedCellEvent) {
                const clickedCell = clickedCellEvent.target;
                const clickedCellIndex = parseInt(clickedCell.getAttribute('data-cell-index'));
                
                if (gameState[clickedCellIndex] !== '' || !gameActive) return;
                
                handleCellPlayed(clickedCell, clickedCellIndex);
                handleResultValidation();
                
                // Computer's turn if game is still active
                if (gameActive && currentPlayer === 'O') {
                    setTimeout(computerPlay, 700);
                }
            }
            
            function handleCellPlayed(clickedCell, clickedCellIndex) {
                gameState[clickedCellIndex] = currentPlayer;
                clickedCell.textContent = currentPlayer;
                clickedCell.classList.add(currentPlayer.toLowerCase());
            }
            
            function handleResultValidation() {
                let roundWon = false;
                for (let i = 0; i < winningConditions.length; i++) {
                    const [a, b, c] = winningConditions[i];
                    if (gameState[a] === '' || gameState[b] === '' || gameState[c] === '') continue;
                    
                    if (gameState[a] === gameState[b] && gameState[b] === gameState[c]) {
                        roundWon = true;
                        break;
                    }
                }
                
                if (roundWon) {
                    statusDisplay.textContent = `Player ${currentPlayer} wins!`;
                    gameActive = false;
                    
                    if (currentPlayer === 'X') {
                        // Update wins in localStorage
                        const wins = parseInt(localStorage.getItem('tttWins') || '0');
                        localStorage.setItem('tttWins', wins + 1);
                        loadBestScores();
                    }
                    return;
                }
                
                let roundDraw = !gameState.includes('');
                if (roundDraw) {
                    statusDisplay.textContent = 'Game ended in a draw!';
                    gameActive = false;
                    return;
                }
                
                // Continue game
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                statusDisplay.textContent = `${currentPlayer === 'X' ? 'Your' : 'Computer\'s'} turn (${currentPlayer})`;
            }
            
            function computerPlay() {
                // Simple AI: choose a random empty cell
                const emptyCells = gameState.map((cell, index) => cell === '' ? index : null).filter(index => index !== null);
                
                if (emptyCells.length > 0) {
                    const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                    const cell = document.querySelector(`[data-cell-index="${randomIndex}"]`);
                    
                    handleCellPlayed(cell, randomIndex);
                    handleResultValidation();
                }
            }
            
            function resetGame() {
                gameActive = true;
                currentPlayer = 'X';
                gameState = ['', '', '', '', '', '', '', '', ''];
                statusDisplay.textContent = 'Your turn (X)';
                
                cells.forEach(cell => {
                    cell.textContent = '';
                    cell.classList.remove('x', 'o');
                });
            }
            
            // Add event listeners
            cells.forEach(cell => cell.addEventListener('click', handleCellClick));
            resetButton.addEventListener('click', resetGame);
            
            // Initialize the game
            resetGame();
        }
        
        // ========== SNAKE ==========
        function initSnake() {
            const canvas = document.getElementById('snake-canvas');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('snake-score-value');
            const startButton = document.getElementById('snake-start');
            
            const gridSize = 20;
            const gridWidth = canvas.width / gridSize;
            const gridHeight = canvas.height / gridSize;
            
            let snake, food, direction, nextDirection, gameInterval, score;
            
            function initGame() {
                snake = [
                    {x: 10, y: 10}
                ];
                generateFood();
                direction = 'right';
                nextDirection = 'right';
                score = 0;
                scoreDisplay.textContent = score;
            }
            
            function generateFood() {
                food = {
                    x: Math.floor(Math.random() * gridWidth),
                    y: Math.floor(Math.random() * gridHeight)
                };
                
                // Make sure food doesn't appear on the snake
                for (let segment of snake) {
                    if (segment.x === food.x && segment.y === food.y) {
                        return generateFood();
                    }
                }
            }
            
            function draw() {
                // Clear canvas
                ctx.fillStyle = '#f0f0f3';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw snake
                ctx.fillStyle = '#8a2be2';
                for (let segment of snake) {
                    ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize, gridSize);
                }
                
                // Draw food
                ctx.fillStyle = '#ffd700';
                ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize, gridSize);
            }
            
            function update() {
                // Update direction
                direction = nextDirection;
                
                // Calculate new head position
                const head = {...snake[0]};
                
                switch (direction) {
                    case 'up': head.y--; break;
                    case 'down': head.y++; break;
                    case 'left': head.x--; break;
                    case 'right': head.x++; break;
                }
                
                // Check for collisions with walls
                if (head.x < 0 || head.x >= gridWidth || head.y < 0 || head.y >= gridHeight) {
                    gameOver();
                    return;
                }
                
                // Check for collisions with self
                for (let i = 0; i < snake.length; i++) {
                    if (snake[i].x === head.x && snake[i].y === head.y) {
                        gameOver();
                        return;
                    }
                }
                
                // Add new head
                snake.unshift(head);
                
                // Check if food eaten
                if (head.x === food.x && head.y === food.y) {
                    score++;
                    scoreDisplay.textContent = score;
                    generateFood();
                } else {
                    // Remove tail
                    snake.pop();
                }
                
                draw();
            }
            
            function gameOver() {
                clearInterval(gameInterval);
                alert(`Game Over! Your score: ${score}`);
                
                // Update best score if needed
                const bestScore = parseInt(localStorage.getItem('snakeBestScore') || '0');
                if (score > bestScore) {
                    localStorage.setItem('snakeBestScore', score);
                    loadBestScores();
                }
                
                startButton.textContent = 'Restart Game';
                startButton.disabled = false;
            }
            
            function startGame() {
                initGame();
                draw();
                gameInterval = setInterval(update, 150);
                startButton.textContent = 'Playing...';
                startButton.disabled = true;
            }
            
            // Handle keyboard input
            document.addEventListener('keydown', (e) => {
                switch (e.key) {
                    case 'ArrowUp':
                        if (direction !== 'down') nextDirection = 'up';
                        break;
                    case 'ArrowDown':
                        if (direction !== 'up') nextDirection = 'down';
                        break;
                    case 'ArrowLeft':
                        if (direction !== 'right') nextDirection = 'left';
                        break;
                    case 'ArrowRight':
                        if (direction !== 'left') nextDirection = 'right';
                        break;
                }
            });
            
            // Start button event listener
            startButton.addEventListener('click', startGame);
            
            // Initialize (but don't start) the game
            initGame();
            draw();
        }
        
        // ========== MEMORY MATCH ==========
        function initMemory() {
            const board = document.getElementById('memory-board');
            const matchesDisplay = document.getElementById('memory-matches');
            const resetButton = document.getElementById('memory-reset');
            
            let cards = [];
            let flippedCards = [];
            let matchedPairs = 0;
            let lockBoard = false;
            
            // Emoji icons for cards
            const icons = ['ðŸŒŸ', 'ðŸš€', 'ðŸŽ®', 'ðŸŽ¯', 'ðŸŽ¨', 'ðŸŽ­', 'ðŸŽª', 'ðŸŽ'];
            
            function initGame() {
                board.innerHTML = '';
                flippedCards = [];
                matchedPairs = 0;
                matchesDisplay.textContent = '0/8';
                
                // Create pairs of cards
                cards = [...icons, ...icons];
                
                // Shuffle cards
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }
                
                // Create card elements
                cards.forEach((icon, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.dataset.index = index;
                    
                    const front = document.createElement('div');
                    front.className = 'front';
                    front.textContent = icon;
                    
                    const back = document.createElement('div');
                    back.className = 'back';
                    back.innerHTML = '<i class="fas fa-question"></i>';
                    
                    card.appendChild(front);
                    card.appendChild(back);
                    
                    card.addEventListener('click', flipCard);
                    board.appendChild(card);
                });
            }
            
            function flipCard() {
                if (lockBoard) return;
                if (this === flippedCards[0]) return;
                if (this.classList.contains('flipped')) return;
                
                this.classList.add('flipped');
                flippedCards.push(this);
                
                if (flippedCards.length === 2) {
                    lockBoard = true;
                    checkForMatch();
                }
            }
            
            function checkForMatch() {
                const [card1, card2] = flippedCards;
                const icon1 = cards[parseInt(card1.dataset.index)];
                const icon2 = cards[parseInt(card2.dataset.index)];
                
                const isMatch = icon1 === icon2;
                
                if (isMatch) {
                    disableCards();
                    matchedPairs++;
                    matchesDisplay.textContent = `${matchedPairs}/8`;
                    
                    if (matchedPairs === 8) {
                        // Game completed
                        setTimeout(() => {
                            alert('Congratulations! You found all matches!');
                            
                            // Update best score if needed
                            const bestScore = parseInt(localStorage.getItem('memoryBestScore') || '0');
                            if (matchedPairs > bestScore) {
                                localStorage.setItem('memoryBestScore', matchedPairs);
                                loadBestScores();
                            }
                        }, 500);
                    }
                } else {
                    unflipCards();
                }
            }
            
            function disableCards() {
                flippedCards.forEach(card => {
                    card.removeEventListener('click', flipCard);
                });
                resetBoard();
            }
            
            function unflipCards() {
                setTimeout(() => {
                    flippedCards.forEach(card => {
                        card.classList.remove('flipped');
                    });
                    resetBoard();
                }, 1000);
            }
            
            function resetBoard() {
                [lockBoard, flippedCards] = [false, []];
            }
            
            // Reset button event listener
            resetButton.addEventListener('click', initGame);
            
            // Initialize the game
            initGame();
        }
        
        // ========== ROCK-PAPER-SCISSORS ==========
        function initRPS() {
            const choices = document.querySelectorAll('.rps-choice');
            const resultDisplay = document.getElementById('rps-result');
            const winsDisplay = document.getElementById('rps-wins');
            const lossesDisplay = document.getElementById('rps-losses');
            const tiesDisplay = document.getElementById('rps-ties');
            
            let wins = 0;
            let losses = 0;
            let ties = 0;
            
            function playGame(userChoice) {
                const choices = ['rock', 'paper', 'scissors'];
                const computerChoice = choices[Math.floor(Math.random() * 3)];
                
                let result;
                
                if (userChoice === computerChoice) {
                    result = 'It\'s a tie!';
                    ties++;
                } else if (
                    (userChoice === 'rock' && computerChoice === 'scissors') ||
                    (userChoice === 'paper' && computerChoice === 'rock') ||
                    (userChoice === 'scissors' && computerChoice === 'paper')
                ) {
                    result = `You win! ${userChoice} beats ${computerChoice}`;
                    wins++;
                    
                    // Update wins in localStorage
                    const totalWins = parseInt(localStorage.getItem('rpsWins') || '0');
                    localStorage.setItem('rpsWins', totalWins + 1);
                    loadBestScores();
                } else {
                    result = `You lose! ${computerChoice} beats ${userChoice}`;
                    losses++;
                }
                
                // Update displays
                resultDisplay.textContent = result;
                winsDisplay.textContent = wins;
                lossesDisplay.textContent = losses;
                tiesDisplay.textContent = ties;
            }
            
            // Add event listeners to choices
            choices.forEach(choice => {
                choice.addEventListener('click', () => {
                    playGame(choice.dataset.choice);
                });
            });
            
            // Initialize displays
            winsDisplay.textContent = wins;
            lossesDisplay.textContent = losses;
            tiesDisplay.textContent = ties;
        }
    </script>
</body>
</html>